sudo: false
dist: xenial
os: linux
language: python
python:
- 'pypy-5.4'
- 'pypy2.7-5.10'
- 'pypy3.5-5.10'
- 'pypy2.7-6.0'
- 'pypy3.5-6.0'
- 'pypy2.7-7.1'
- 'pypy3.5-7.1'
- '2.7'
- '3.4'
- '3.5'
- '3.6'
- '3.7'
matrix:
  include:
  - os: osx
    language: generic
    osx_image: xcode8.1
    # See also: https://github.com/Homebrew/homebrew-core/issues/6949
install:
  |
  if [[ "$TRAVIS_OS_NAME" = "linux" ]]; then
    pip install --upgrade pip setuptools tox-travis;
  elif [[ "$TRAVIS_OS_NAME" = "osx" ]]; then
    brew tap drolando/homebrew-deadsnakes;
    brew install python34 python35 python36 python3 pypy
    pip install --upgrade pip setuptools
    pip install --user tox;
  fi
script: tox
